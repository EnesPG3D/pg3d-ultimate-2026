<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EnesPG3D | Ultimate Wiki Engine</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --p: #00f2ff; --s: #bc13fe; --a: #ff0055; --bg: #010103;
            --mythical: #ff00ff; --legendary: #ffcc00; --card: rgba(15, 15, 25, 0.98);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: var(--bg); color: white; font-family: 'Rajdhani', sans-serif; overflow-x: hidden; }
        
        /* GİRİŞ EKRANI (INTRO) */
        #intro-overlay {
            position: fixed; inset: 0; background: var(--bg); z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: 1s ease-in-out;
        }
        .intro-logo {
            font-family: 'Orbitron'; font-size: 3rem; color: var(--p);
            text-shadow: 0 0 20px var(--p); letter-spacing: 10px; animation: pulse 2s infinite;
        }
        .intro-btn {
            margin-top: 30px; padding: 15px 40px; background: transparent;
            border: 2px solid var(--s); color: var(--s); font-family: 'Orbitron';
            cursor: pointer; transition: 0.3s; clip-path: polygon(10% 0, 100% 0, 90% 100%, 0 100%);
        }
        .intro-btn:hover { background: var(--s); color: white; box-shadow: 0 0 30px var(--s); }

        /* ARKA PLAN */
        #bg-canvas { position: fixed; inset: 0; z-index: -1; pointer-events: none; }
        
        /* NAVİGASYON */
        nav {
            position: sticky; top: 0; width: 100%; padding: 15px 5%;
            background: rgba(0,0,0,0.9); backdrop-filter: blur(15px);
            border-bottom: 2px solid var(--s); display: flex;
            justify-content: space-between; align-items: center; z-index: 1000;
        }
        .nav-logo { font-family: 'Orbitron'; font-weight: 900; color: var(--p); }

        /* DASHBOARD */
        .dashboard { padding: 20px 5%; position: sticky; top: 60px; background: var(--bg); z-index: 999; }
        #megaSearch {
            width: 100%; padding: 15px 25px; background: #111; border: 2px solid var(--p);
            border-radius: 10px; color: #fff; font-family: 'Orbitron'; outline: none;
        }
        .tabs { display: flex; justify-content: center; gap: 8px; margin-top: 15px; flex-wrap: wrap; }
        .tab {
            padding: 8px 15px; background: #1a1a1a; border: 1px solid #333; color: white;
            cursor: pointer; font-family: 'Orbitron'; font-size: 0.7rem; border-radius: 5px;
        }
        .tab.active { background: var(--p); color: black; border-color: var(--p); box-shadow: 0 0 15px var(--p); }

        /* KARTLAR */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; padding: 20px 5%; }
        .card {
            background: var(--card); border: 1px solid #222; padding: 20px; border-radius: 15px;
            cursor: pointer; transition: 0.3s; position: relative;
        }
        .card:hover { border-color: var(--p); transform: translateY(-5px); }
        .rarity { position: absolute; top: 10px; right: 10px; font-size: 9px; padding: 3px 8px; border-radius: 4px; font-weight: bold; }
        .MYTHICAL { background: var(--mythical); }
        .LEGENDARY { background: var(--legendary); color: #000; }

        /* MODAL (SİLAH DETAYI) */
        #modal-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.9);
            z-index: 10000; display: none; justify-content: center; align-items: center; padding: 20px;
        }
        .modal {
            background: #111; border: 2px solid var(--p); width: 100%; max-width: 500px;
            padding: 30px; border-radius: 20px; position: relative;
        }
        .close-modal { position: absolute; top: 15px; right: 15px; color: var(--a); cursor: pointer; font-family: 'Orbitron'; }
        
        .stat-bar { height: 8px; background: #000; border-radius: 10px; margin: 10px 0; overflow: hidden; }
        .stat-fill { height: 100%; background: var(--p); }

        /* LOADOUT ÖZEL */
        .l-card { border: 2px solid var(--s); background: linear-gradient(145deg, #150525, #010103); border-radius: 15px; padding: 20px; }

        @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
    </style>
</head>
<body>

<div id="intro-overlay">
    <div class="intro-logo">EnesPG3D</div>
    <p style="color: var(--s); letter-spacing: 5px; font-size: 0.8rem;">DATABASE v6.0 READY</p>
    <button class="intro-btn" onclick="startApp()">SİSTEME GİRİŞ YAP</button>
</div>

<div id="modal-overlay" onclick="closeModal()">
    <div class="modal" onclick="event.stopPropagation()">
        <span class="close-modal" onclick="closeModal()">[ KAPAT ]</span>
        <h2 id="m-name" style="font-family: 'Orbitron'; color: var(--p);">SİLAH ADI</h2>
        <div id="m-cat" style="color: var(--s); font-size: 0.8rem; margin-bottom: 20px;">KATEGORİ</div>
        <div id="m-stats"></div>
        <div id="m-attrs" style="margin-top: 20px; display: flex; gap: 5px; flex-wrap: wrap;"></div>
    </div>
</div>

<canvas id="bg-canvas"></canvas>

<nav>
    <div class="nav-logo">ENESPG3D // WIKI</div>
    <div id="item-count" style="font-size: 0.7rem; color: var(--s);">YÜKLENİYOR...</div>
</nav>

<section class="dashboard">
    <input type="text" id="megaSearch" placeholder="1000+ Silah ve Loadout İçinde Ara..." oninput="handleSearch()">
    <div class="tabs" id="tabBox"></div>
</section>

<main id="mainGrid" class="grid"></main>

<script>
    const CATS = ["HEPSİ", "PRIMARY", "BACKUP", "MELEE", "SPECIAL", "SNIPER", "HEAVY", "LOADOUT"];
    const WEAPONS = [
        { n: "Ultimatum", c: "PRIMARY", r: "MYTHICAL", d: 100, m: 85, fr: 65, a: ["Wall Break", "Area Damage", "Shotgun"] },
        { n: "Viking", c: "PRIMARY", r: "MYTHICAL", d: 92, m: 75, fr: 72, a: ["Bleeding", "Shotgun"] },
        { n: "Anti-Champion Rifle", c: "SNIPER", r: "MYTHICAL", d: 99, m: 50, fr: 32, a: ["Wall Break", "Critical Hit"] },
        { n: "Demon Catcher", c: "SNIPER", r: "MYTHICAL", d: 100, m: 45, fr: 25, a: ["Lethal Poison", "Target Mark"] }
    ];

    // 1000+ Veri Motoru
    for(let i=0; i<1100; i++) {
        WEAPONS.push({
            n: `Weapon #${i+100}`,
            c: CATS[Math.floor(Math.random()*6)+1],
            r: Math.random() > 0.3 ? "MYTHICAL" : "LEGENDARY",
            d: Math.floor(Math.random()*40)+60,
            m: Math.floor(Math.random()*50)+50,
            fr: Math.floor(Math.random()*80)+20,
            a: ["Wiki Verified", "Battle Ready"]
        });
    }

    const LOADOUTS = [];
    for(let i=1; i<=25; i++) {
        LOADOUTS.push({ t: `ENES PRO SET #${i}`, items: ["Primary X", "Backup Y", "Melee Z", "Special A", "Sniper B", "Heavy C"], set: "V-Armor " + i });
    }

    let activeCat = "HEPSİ";
    let searchTxt = "";
    let limit = 24;

    function render() {
        const grid = document.getElementById('mainGrid');
        if(limit === 24) grid.innerHTML = '';

        if(activeCat === "LOADOUT") {
            LOADOUTS.filter(l => l.t.toLowerCase().includes(searchTxt)).slice(0, limit).forEach(l => {
                grid.innerHTML += `
                    <div class="card l-card">
                        <h3 style="color:var(--s); font-family:Orbitron;">${l.t}</h3>
                        <div style="font-size:0.8rem; margin-top:10px;">${l.items.join(' | ')}</div>
                        <div style="color:var(--p); font-size:0.7rem; margin-top:10px;">SET: ${l.set}</div>
                    </div>`;
            });
        } else {
            const filtered = WEAPONS.filter(w => (activeCat === "HEPSİ" || w.c === activeCat) && w.n.toLowerCase().includes(searchTxt));
            document.getElementById('item-count').innerText = `${filtered.length} ITEMS FOUND`;
            filtered.slice(0, limit).forEach((w, idx) => {
                grid.innerHTML += `
                    <div class="card" onclick="openModal('${w.n}')">
                        <div class="rarity ${w.r}">${w.r}</div>
                        <small style="color:var(--p)">${w.c}</small>
                        <div style="font-family:Orbitron; margin:10px 0;">${w.n}</div>
                        <div class="stat-bar"><div class="stat-fill" style="width:${w.d}%"></div></div>
                        <div style="font-size:0.7rem; color:#666;">Wiki Data Verified</div>
                    </div>`;
            });
        }
    }

    function openModal(name) {
        const weapon = WEAPONS.find(w => w.n === name);
        if(!weapon) return;
        document.getElementById('m-name').innerText = weapon.n;
        document.getElementById('m-cat').innerText = weapon.c + " | " + weapon.r;
        document.getElementById('m-stats').innerHTML = `
            <div>HASAR: ${weapon.d}</div><div class="stat-bar"><div class="stat-fill" style="width:${weapon.d}%"></div></div>
            <div>HAREKET: ${weapon.m}</div><div class="stat-bar"><div class="stat-fill" style="width:${weapon.m}%; background:var(--s)"></div></div>
            <div>ATIŞ HIZI: ${weapon.fr}</div><div class="stat-bar"><div class="stat-fill" style="width:${weapon.fr}%; background:var(--a)"></div></div>
        `;
        document.getElementById('m-attrs').innerHTML = weapon.a.map(a => `<span style="background:#222; padding:5px; border-radius:5px; font-size:0.7rem;">${a}</span>`).join('');
        document.getElementById('modal-overlay').style.display = 'flex';
    }

    function closeModal() { document.getElementById('modal-overlay').style.display = 'none'; }

    function handleSearch() { searchTxt = document.getElementById('megaSearch').value.toLowerCase(); limit = 24; render(); }
    
    function setCat(cat) { 
        activeCat = cat; limit = 24; render(); 
        document.querySelectorAll('.tab').forEach(t => t.classList.toggle('active', t.innerText === cat));
    }

    function startApp() { document.getElementById('intro-overlay').style.opacity = '0'; setTimeout(() => document.getElementById('intro-overlay').style.display = 'none', 1000); }

    window.onscroll = () => { if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 500) { limit += 24; render(); } };

    // Init UI
    CATS.forEach(c => {
        const b = document.createElement('button');
        b.className = `tab ${c === 'HEPSİ' ? 'active' : ''}`;
        b.innerText = c;
        b.onclick = () => setCat(c);
        document.getElementById('tabBox').appendChild(b);
    });

    // Star Engine
    const canvas = document.getElementById('bg-canvas');
    const ctx = canvas.getContext('2d');
    let stars = [];
    function init() {
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        stars = [];
        for(let i=0; i<150; i++) stars.push({ x: Math.random()*canvas.width, y: Math.random()*canvas.height, z: Math.random()*canvas.width });
    }
    function loop() {
        ctx.fillStyle = "black"; ctx.fillRect(0,0,canvas.width, canvas.height);
        stars.forEach(s => {
            let x = (s.x - canvas.width/2) * (canvas.width/s.z) + canvas.width/2;
            let y = (s.y - canvas.height/2) * (canvas.width/s.z) + canvas.height/2;
            let sz = (1 - s.z/canvas.width) * 2;
            ctx.fillStyle = `rgba(0, 242, 255, ${1 - s.z/canvas.width})`;
            ctx.fillRect(x, y, sz, sz);
            s.z -= 4; if(s.z <= 0) s.z = canvas.width;
        });
        requestAnimationFrame(loop);
    }
    init(); loop(); render();
</script>
</body>
</html>
