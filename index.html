<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PG3D ULTIMATE WIKI | v5.0 MASTER</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --p: #00f2ff; --s: #bc13fe; --a: #ff0055; --bg: #020205;
            --mythical: #ff00ff; --legendary: #ffcc00; --card: rgba(15, 15, 25, 0.95);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: var(--bg); color: white; font-family: 'Rajdhani', sans-serif; overflow-x: hidden; }
        
        #bg-canvas { position: fixed; top: 0; left: 0; z-index: -1; pointer-events: none; }
        
        /* Navigasyon */
        nav {
            position: sticky; top: 0; width: 100%; padding: 15px 5%;
            background: rgba(0,0,0,0.9); backdrop-filter: blur(15px);
            border-bottom: 2px solid var(--s); display: flex;
            justify-content: space-between; align-items: center; z-index: 1000;
        }
        .logo { font-family: 'Orbitron'; font-weight: 900; color: var(--p); text-shadow: 0 0 10px var(--p); }

        /* Dashboard */
        .dashboard { padding: 30px 5% 10px; position: sticky; top: 65px; background: var(--bg); z-index: 999; }
        #megaSearch {
            width: 100%; padding: 18px 25px; background: #111; border: 2px solid var(--p);
            border-radius: 12px; color: #fff; font-family: 'Orbitron'; outline: none;
            box-shadow: 0 0 20px rgba(0, 242, 255, 0.1);
        }

        .tabs { display: flex; justify-content: center; gap: 10px; margin-top: 20px; flex-wrap: wrap; }
        .tab {
            padding: 10px 18px; background: #1a1a1a; border: 1px solid #333; color: white;
            cursor: pointer; font-family: 'Orbitron'; font-size: 0.75rem; border-radius: 8px; transition: 0.3s;
        }
        .tab.active { background: var(--p); color: #000; border-color: var(--p); box-shadow: 0 0 15px var(--p); }
        .tab.loadout-btn { border-color: var(--a); color: var(--a); }
        .tab.loadout-btn.active { background: var(--a); color: #fff; box-shadow: 0 0 15px var(--a); }

        /* Grid Sistemi */
        .container { padding: 20px 5% 100px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px; }

        /* Silah Kartları */
        .card {
            background: var(--card); border: 1px solid rgba(255,255,255,0.05);
            padding: 25px; border-radius: 20px; position: relative; transition: 0.3s;
            will-change: transform;
        }
        .card:hover { border-color: var(--p); transform: translateY(-5px); }
        
        .rarity { position: absolute; top: 15px; right: 15px; font-size: 10px; padding: 4px 10px; border-radius: 5px; font-weight: 900; }
        .MYTHICAL { background: var(--mythical); color: white; }
        .LEGENDARY { background: var(--legendary); color: black; }

        .item-cat { color: var(--p); font-size: 10px; letter-spacing: 2px; font-weight: bold; }
        .item-name { font-family: 'Orbitron'; font-size: 1.2rem; margin: 10px 0; }
        
        .attrs { display: flex; flex-wrap: wrap; gap: 5px; margin-bottom: 15px; }
        .attr { font-size: 9px; background: rgba(0, 242, 255, 0.1); padding: 3px 8px; border-radius: 4px; border: 1px solid rgba(0,242,255,0.2); }

        .stat-label { display: flex; justify-content: space-between; font-size: 11px; color: #888; margin-bottom: 5px; }
        .bar { height: 5px; background: #000; border-radius: 10px; overflow: hidden; margin-bottom: 12px; }
        .fill { height: 100%; background: linear-gradient(90deg, var(--p), var(--s)); }

        /* Loadout Kartları */
        .l-card { background: linear-gradient(145deg, #120520, #020205); border: 2px solid var(--s); border-radius: 20px; padding: 25px; }
        .l-title { font-family: 'Orbitron'; color: var(--a); margin-bottom: 15px; }
        .l-items { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .l-item { background: rgba(0,0,0,0.4); padding: 8px; border-left: 2px solid var(--p); font-size: 0.8rem; }

        #load-more { text-align: center; padding: 40px; color: var(--p); font-family: 'Orbitron'; font-size: 0.9rem; }
    </style>
</head>
<body>

<canvas id="bg-canvas"></canvas>

<nav>
    <div class="logo">PG3D ULTIMATE // v5.0</div>
    <div id="status" style="font-size: 0.7rem; color: #666;">ITEMS: 0</div>
</nav>

<section class="dashboard">
    <input type="text" id="megaSearch" placeholder="1000+ Eşya veya Loadout Ara..." oninput="handleSearch()">
    <div class="tabs" id="tabGroup">
        </div>
</section>

<main class="container">
    <div id="mainGrid" class="grid"></div>
    <div id="load-more">AŞAĞI KAYDIRINCA DAHA FAZLASI YÜKLENİR...</div>
</main>

<script>
    // --- DATABASE ---
    const CATEGORIES = ["HEPSİ", "PRIMARY", "BACKUP", "MELEE", "SPECIAL", "SNIPER", "HEAVY", "LOADOUT"];
    const WEAPONS = [
        { n: "Ultimatum", c: "PRIMARY", r: "MYTHICAL", d: 100, m: 85, a: ["Wall Break", "Area Damage"] },
        { n: "Viking", c: "PRIMARY", r: "MYTHICAL", d: 92, m: 75, a: ["Bleeding", "Shotgun"] },
        { n: "Anti-Champion Rifle", c: "SNIPER", r: "MYTHICAL", d: 99, m: 50, a: ["Wall Break", "Critical Hit"] },
        { n: "Demon Catcher", c: "SNIPER", r: "MYTHICAL", d: 100, m: 45, a: ["Lethal Poison"] },
        { n: "Heroic Epee", c: "MELEE", r: "MYTHICAL", d: 65, m: 100, a: ["Self Healing"] },
        { n: "Vertical Grip Device", c: "SPECIAL", r: "MYTHICAL", d: 40, m: 100, a: ["Pulling"] }
    ];

    // 1200 Silah Simülasyonu
    for(let i=1; i<=1200; i++) {
        WEAPONS.push({
            n: `Wiki Item #${i+100}`,
            c: CATEGORIES[Math.floor(Math.random()*6)+1],
            r: Math.random() > 0.3 ? "MYTHICAL" : "LEGENDARY",
            d: Math.floor(Math.random()*40)+60,
            m: Math.floor(Math.random()*50)+50,
            a: ["Wiki Verified", "Attribute"]
        });
    }

    const LOADOUTS = [];
    for(let i=1; i<=25; i++) {
        LOADOUTS.push({
            t: `MEGA LOADOUT #${i}`,
            items: ["Primary", "Backup", "Melee", "Special", "Sniper", "Heavy"],
            set: "Set v" + i
        });
    }

    // --- ENGINE ---
    let activeCat = "HEPSİ";
    let searchTxt = "";
    let limit = 20;

    function render() {
        const grid = document.getElementById('mainGrid');
        if(limit === 20) grid.innerHTML = '';

        if(activeCat === "LOADOUT") {
            const filtered = LOADOUTS.filter(l => l.t.toLowerCase().includes(searchTxt));
            filtered.slice(0, limit).forEach(l => {
                grid.innerHTML += `
                    <div class="l-card">
                        <div class="l-title">${l.t}</div>
                        <div class="l-items">${l.items.map(i => `<div class="l-item">${i}</div>`).join('')}</div>
                        <div style="margin-top:10px; font-size:10px; color:var(--p)">ARMOR: ${l.set}</div>
                    </div>`;
            });
        } else {
            const filtered = WEAPONS.filter(w => 
                (activeCat === "HEPSİ" || w.c === activeCat) && 
                w.n.toLowerCase().includes(searchTxt)
            );
            document.getElementById('status').innerText = `ITEMS: ${filtered.length}`;
            
            filtered.slice(0, limit).forEach(w => {
                grid.innerHTML += `
                    <div class="card">
                        <div class="rarity ${w.r}">${w.r}</div>
                        <div class="item-cat">${w.c}</div>
                        <div class="item-name">${w.n}</div>
                        <div class="attrs">${w.a.map(at => `<div class="attr">${at}</div>`).join('')}</div>
                        <div class="stat-label"><span>POWER</span><span>${w.d}</span></div>
                        <div class="bar"><div class="fill" style="width:${w.d}%"></div></div>
                        <div class="stat-label"><span>MOBILITY</span><span>${w.m}</span></div>
                        <div class="bar"><div class="fill" style="width:${w.m}%; background:var(--s)"></div></div>
                    </div>`;
            });
        }
    }

    // Controls
    function handleSearch() {
        searchTxt = document.getElementById('megaSearch').value.toLowerCase();
        limit = 20; render();
    }

    function switchCat(cat) {
        activeCat = cat; limit = 20; render();
        document.querySelectorAll('.tab').forEach(b => b.classList.toggle('active', b.innerText === cat));
    }

    // Infinite Scroll
    window.onscroll = () => {
        if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 400) {
            limit += 20; render();
        }
    };

    // UI Init
    const tabBox = document.getElementById('tabGroup');
    CATEGORIES.forEach(c => {
        const b = document.createElement('button');
        b.className = `tab ${c === 'LOADOUT' ? 'loadout-btn' : ''} ${c === 'HEPSİ' ? 'active' : ''}`;
        b.innerText = c;
        b.onclick = () => switchCat(c);
        tabBox.appendChild(b);
    });

    // --- BG ANIMATION (ULTRA LIGHT) ---
    const canvas = document.getElementById('bg-canvas');
    const ctx = canvas.getContext('2d');
    let stars = [];
    function init() {
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        stars = [];
        for(let i=0; i<100; i++) stars.push({ x: Math.random()*canvas.width, y: Math.random()*canvas.height, z: Math.random()*canvas.width });
    }
    function loop() {
        ctx.fillStyle = "black"; ctx.fillRect(0,0,canvas.width, canvas.height);
        stars.forEach(s => {
            let x = (s.x - canvas.width/2) * (canvas.width/s.z) + canvas.width/2;
            let y = (s.y - canvas.height/2) * (canvas.width/s.z) + canvas.height/2;
            let sz = (1 - s.z/canvas.width) * 2;
            ctx.fillStyle = `rgba(0, 242, 255, ${1 - s.z/canvas.width})`;
            ctx.fillRect(x, y, sz, sz);
            s.z -= 4; if(s.z <= 0) s.z = canvas.width;
        });
        requestAnimationFrame(loop);
    }
    init(); loop(); render();
</script>
</body>
    </html>
    
